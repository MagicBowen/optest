operator: custom_square
description: Demonstrates custom generator and assertion using the new plan format
inputs: ["data/input0.bin"]
outputs: ["output/output0.bin"]
generator:
  name: custom_generator
  source: ./custom_impl.py
  seed: 42
assertion:
  name: custom_assertion
  source: ./custom_impl.py
  output_dtypes: [float32]
  rtol: 0
  atol: 0
backends:
  - type: cuda
    chip: local
    workdir: .
    command: ["python", "run.py", "--input0", "{input0}", "--output0", "{output0}", "--dtype", "{dtype}", "--shape", "{shape}"]
cases:
  - name: float32_small
    dtypes: [float32]
    shapes:
      - {inputs: [[1, 4]], outputs: [[1, 4]]}
    tags: ["smoke", "custom"]
